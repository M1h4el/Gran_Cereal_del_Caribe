{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/middleware.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { getToken } from \"next-auth/jwt\";\r\n\r\nexport async function middleware(req) {\r\n  const token = await getToken({ req, secret: process.env.NEXTAUTH_SECRET });\r\n  const { pathname } = req.nextUrl;\r\n\r\n  // Ignorar rutas estáticas y API\r\n  if (\r\n    pathname.startsWith(\"/_next\") ||\r\n    pathname.startsWith(\"/api\") ||\r\n    pathname.startsWith(\"/favicon.ico\") ||\r\n    pathname.startsWith(\"/public\")\r\n  ) {\r\n    return NextResponse.next();\r\n  }\r\n\r\n  // Redirigir al dashboard si ya está logueado y va a la raíz\r\n  if (token && pathname === \"/\") {\r\n    return NextResponse.redirect(new URL(\"/dashboard\", req.url));\r\n  }\r\n\r\n  // Si no hay token y va a rutas protegidas\r\n  const protectedPaths = [\"/dashboard\", \"/admin\", \"/perfil\"];\r\n  const isProtected = protectedPaths.some((path) =>\r\n    pathname.startsWith(path)\r\n  );\r\n\r\n  if (!token && isProtected) {\r\n    return NextResponse.redirect(new URL(\"/\", req.url));\r\n  }\r\n\r\n  return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\"/\", \"/dashboard/:path*\", \"/admin/:path*\", \"/perfil\"],\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AADA;;;AAGO,eAAe,WAAW,GAAG;IAClC,MAAM,QAAQ,MAAM,CAAA,GAAA,4IAAA,CAAA,WAAQ,AAAD,EAAE;QAAE;QAAK,QAAQ,QAAQ,GAAG,CAAC,eAAe;IAAC;IACxE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,gCAAgC;IAChC,IACE,SAAS,UAAU,CAAC,aACpB,SAAS,UAAU,CAAC,WACpB,SAAS,UAAU,CAAC,mBACpB,SAAS,UAAU,CAAC,YACpB;QACA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;IAEA,4DAA4D;IAC5D,IAAI,SAAS,aAAa,KAAK;QAC7B,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC5D;IAEA,0CAA0C;IAC1C,MAAM,iBAAiB;QAAC;QAAc;QAAU;KAAU;IAC1D,MAAM,cAAc,eAAe,IAAI,CAAC,CAAC,OACvC,SAAS,UAAU,CAAC;IAGtB,IAAI,CAAC,SAAS,aAAa;QACzB,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,IAAI,GAAG;IACnD;IAEA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAK;QAAqB;QAAiB;KAAU;AACjE"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}